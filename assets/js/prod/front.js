var Instafeed;(function(){var t;t=function(){function n(t,e){var o,n;if(this.options={target:"instafeed",get:"popular",resolution:"thumbnail",sortBy:"none",links:!0,mock:!1,useHttp:!1},"object"==typeof t)for(o in t)n=t[o],this.options[o]=n;this.context=null!=e?e:this,this.unique=this._genKey()}return n.prototype.hasNext=function(){return"string"==typeof this.context.nextUrl&&0<this.context.nextUrl.length},n.prototype.next=function(){return!!this.hasNext()&&this.run(this.context.nextUrl)},n.prototype.run=function(t){var e,o;if("string"!=typeof this.options.clientId&&"string"!=typeof this.options.accessToken)throw new Error("Missing clientId or accessToken.");if("string"!=typeof this.options.accessToken&&"string"!=typeof this.options.clientId)throw new Error("Missing clientId or accessToken.");return null!=this.options.before&&"function"==typeof this.options.before&&this.options.before.call(this),"undefined"!=typeof document&&null!==document&&((o=document.createElement("script")).id="instafeed-fetcher",o.src=t||this._buildUrl(),document.getElementsByTagName("head")[0].appendChild(o),e="instafeedCache"+this.unique,window[e]=new n(this.options,this),window[e].unique=this.unique),!0},n.prototype.parse=function(t){var e,o,n,i,s,r,a,c,l,p,h,u,d,f,m,g,y,w,k;if("object"!=typeof t){if(null!=this.options.error&&"function"==typeof this.options.error)return this.options.error.call(this,"Invalid JSON data"),!1;throw new Error("Invalid JSON response")}if(200!==t.meta.code){if(null!=this.options.error&&"function"==typeof this.options.error)return this.options.error.call(this,t.meta.error_message),!1;throw new Error("Error from Instagram: "+t.meta.error_message)}if(0===t.data.length){if(null!=this.options.error&&"function"==typeof this.options.error)return this.options.error.call(this,"No images were returned from Instagram"),!1;throw new Error("No images were returned from Instagram")}if(null!=this.options.success&&"function"==typeof this.options.success&&this.options.success.call(this,t),this.context.nextUrl="",null!=t.pagination&&(this.context.nextUrl=t.pagination.next_url),"none"!==this.options.sortBy)switch(p="least"===(h="random"===this.options.sortBy?["","random"]:this.options.sortBy.split("-"))[0],h[1]){case"random":t.data.sort(function(){return.5-Math.random()});break;case"recent":t.data=this._sortBy(t.data,"created_time",p);break;case"liked":t.data=this._sortBy(t.data,"likes.count",p);break;case"commented":t.data=this._sortBy(t.data,"comments.count",p);break;default:throw new Error("Invalid option for sortBy: "+this.options.sortBy+".")}if("undefined"!=typeof document&&null!==document&&!1===this.options.mock){if(r=t.data,null!=this.options.limit&&r.length>this.options.limit&&(r=r.slice(0,this.options.limit+1||9e9)),o=document.createDocumentFragment(),null!=this.options.filter&&"function"==typeof this.options.filter&&(r=this._filter(r,this.options.filter)),null!=this.options.template&&"string"==typeof this.options.template){for(n="",u=document.createElement("div"),d=0,g=r.length;d<g;d++)s=(i=r[d]).images[this.options.resolution].url,this.options.useHttp||(s=s.replace("http://","//")),n+=this._makeTemplate(this.options.template,{model:i,id:i.id,link:i.link,image:s,caption:this._getObjectProperty(i,"caption.text"),likes:i.likes.count,comments:i.comments.count,location:this._getObjectProperty(i,"location.name")});for(u.innerHTML=n,f=0,y=(k=[].slice.call(u.childNodes)).length;f<y;f++)l=k[f],o.appendChild(l)}else for(m=0,w=r.length;m<w;m++)i=r[m],a=document.createElement("img"),s=i.images[this.options.resolution].url,this.options.useHttp||(s=s.replace("http://","//")),a.src=s,!0===this.options.links?((e=document.createElement("a")).href=i.link,e.appendChild(a),o.appendChild(e)):o.appendChild(a);document.getElementById(this.options.target).appendChild(o),document.getElementsByTagName("head")[0].removeChild(document.getElementById("instafeed-fetcher")),c="instafeedCache"+this.unique,window[c]=void 0;try{delete window[c]}catch(t){}}return null!=this.options.after&&"function"==typeof this.options.after&&this.options.after.call(this),!0},n.prototype._buildUrl=function(){var t,e;switch("https://api.instagram.com/v1",this.options.get){case"popular":t="media/popular";break;case"tagged":if("string"!=typeof this.options.tagName)throw new Error("No tag name specified. Use the "+tagName+" option.");t="tags/"+this.options.tagName+"/media/recent";break;case"location":if("number"!=typeof this.options.locationId)throw new Error("No location specified. Use the "+locationId+" option.");t="locations/"+this.options.locationId+"/media/recent";break;case"user":if("number"!=typeof this.options.userId)throw new Error("No user specified. Use the "+userId+" option.");if("string"!=typeof this.options.accessToken)throw new Error("No access token. Use the "+accessToken+" option.");t="users/"+this.options.userId+"/media/recent";break;default:throw new Error("Invalid option for get: "+this.options.get+".")}return e="https://api.instagram.com/v1/"+t,null!=this.options.accessToken?e+="?access_token="+this.options.accessToken:e+="?client_id="+this.options.clientId,null!=this.options.limit&&(e+="&count="+this.options.limit),e+="&callback=instafeedCache"+this.unique+".parse"},n.prototype._genKey=function(){var t;return""+(t=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)})()+t()+t()+t()},n.prototype._makeTemplate=function(t,e){var o,n,i,s,r;for(n=/(?:\{{2})([\w\[\]\.]+)(?:\}{2})/,o=t;n.test(o);)i=o.match(n)[1],s=null!=(r=this._getObjectProperty(e,i))?r:"",o=o.replace(n,""+s);return o},n.prototype._getObjectProperty=function(t,e){var o,n;for(n=(e=e.replace(/\[(\w+)\]/g,".$1")).split(".");n.length;){if(o=n.shift(),!(null!=t&&o in t))return null;t=t[o]}return t},n.prototype._sortBy=function(t,i,s){var e;return e=function(t,e){var o,n;return o=this._getObjectProperty(t,i),n=this._getObjectProperty(e,i),s?n<o?1:-1:o<n?1:-1},t.sort(e.bind(this)),t},n.prototype._filter=function(t,e){var o,n,i,s;for(o=[],n=function(t){if(e(t))return o.push(t)},i=0,s=t.length;i<s;i++)n(t[i]);return o},n}(),("undefined"!=typeof exports&&null!==exports?exports:window).Instafeed=t}).call(this);var revealVideo,hideVideo,feed=new Instafeed({get:"user",userId:7195032456,clientId:"0ed61e6a80684ff896bf5096448b2068",accessToken:"7195032456.1677ed0.1c1ab01070ca40fdb46999ad07d8b74f",resolution:"low_resolution",limit:3,useHttp:!0,sortBy:"most-recent",template:'<a href="{{link}}" class="social-post" target="_blank"><span class="social-tag instagram"></span><img src="{{image}}" alt="instagram"><div class="social-text"><p>{{caption}}</p></div></a>'});feed.run(),revealVideo=function(t,e){var o=document.getElementById(e).src;document.getElementById(e).src=o+"&autoplay=1",document.getElementById(t).style.display="block"},hideVideo=function(t,e){var o=document.getElementById(e).src.replace("&autoplay=1","");document.getElementById(e).src=o,document.getElementById(t).style.display="none"};